def _transform_response(response, status_ok="SUCCESS", status_fail="FAILURE"):
    """
    Transform response
    """
    result = response.json() if response.ok else json.loads(response.content)
    if response.status_code == 403:
        raise RuntimeError(
            "Access denied: either your token is invalid or access to the requested endpoint is not allowed")
    if not response.ok and 'success' not in result:
        raise RuntimeError(f"{response.reason=}, {response.content=}")
    if not 'status' in result:
        ok = result.get('success', False)
        result['status'] = status_ok if ok else status_fail
    result.pop('success', None)
    if 'error' in result:
        result['message'] = result.pop('error')
    return result
